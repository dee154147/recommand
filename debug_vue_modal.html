<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VueÂºπÁ™óË∞ÉËØï</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }
        
        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: #1a1a1a;
            border: 1px solid #00ffff;
            border-radius: 10px;
            padding: 20px;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .metric-info-icon {
            display: inline-block;
            width: 20px;
            height: 20px;
            background: #00ffff;
            color: #000;
            border-radius: 50%;
            text-align: center;
            line-height: 20px;
            cursor: pointer;
            margin-left: 10px;
        }
        
        .metric-info-icon:hover {
            background: #00cccc;
        }
    </style>
</head>
<body>
    <div id="app">
        <div>
            <h3>ÊµãËØïÊåáÊ†á</h3>
            <div>
                <span>ÂèóÊ¨¢ËøéÁ®ãÂ∫¶ËØÑÂàÜ</span>
                <span class="metric-info-icon" @click="showMetricInfo('popularity')">?</span>
                <span>8.5/10</span>
            </div>
            <div>
                <span>Áî®Êà∑Êª°ÊÑèÂ∫¶</span>
                <span class="metric-info-icon" @click="showMetricInfo('satisfaction')">?</span>
                <span>92%</span>
            </div>
        </div>

        <!-- ÂºπÁ™ó -->
        <div class="modal" :class="{ show: showMetricModal }">
            <div class="modal-content">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h3>{{ metricInfoTitle }}</h3>
                    <button @click="closeMetricInfo" style="background: none; border: none; color: #00ffff; font-size: 24px; cursor: pointer;">&times;</button>
                </div>
                <div v-html="metricInfoBody"></div>
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref } = Vue;
        
        createApp({
            setup() {
                const showMetricModal = ref(false);
                const metricInfoTitle = ref('');
                const metricInfoBody = ref('');
                
                const metricInfoData = {
                    popularity: {
                        title: 'ÂèóÊ¨¢ËøéÁ®ãÂ∫¶ËØÑÂàÜ',
                        description: 'Âü∫‰∫éÁî®Êà∑‰∫§‰∫íË°å‰∏∫ËÆ°ÁÆóÁöÑÂïÜÂìÅÂèóÊ¨¢ËøéÁ®ãÂ∫¶ËØÑÂàÜ',
                        formula: 'ÂèóÊ¨¢ËøéÁ®ãÂ∫¶ = (ÁÇπÂáªÊ¨°Êï∞ √ó 0.3 + Êü•ÁúãÊ¨°Êï∞ √ó 0.4 + Êî∂ËóèÊ¨°Êï∞ √ó 0.5 + Ë¥≠‰π∞Ê¨°Êï∞ √ó 1.0) / ÊÄªÁî®Êà∑Êï∞ √ó 10',
                        steps: [
                            'Ëé∑ÂèñÁõ∏‰ººÂïÜÂìÅÁöÑÁî®Êà∑‰∫§‰∫íÊï∞ÊçÆ',
                            'Êî∂ÈõÜÂêÑÁ±ª‰∫§‰∫íË°å‰∏∫Êï∞ÊçÆÔºàÁÇπÂáª„ÄÅÊü•Áúã„ÄÅÊî∂Ëóè„ÄÅË¥≠‰π∞Ôºâ',
                            'ËÆ°ÁÆóÂêÑÁ±ª‰∫§‰∫íË°å‰∏∫ÁöÑÊùÉÈáçÂàÜÊï∞',
                            'ÁªüËÆ°‰∫§‰∫íÁî®Êà∑ÊÄªÊï∞',
                            'ËÆ°ÁÆóÂä†ÊùÉÂπ≥ÂùáÂàÜÊï∞',
                            'ËΩ¨Êç¢‰∏∫10ÂàÜÂà∂ËØÑÂàÜ'
                        ],
                        details: 'ËØ•ÊåáÊ†áÁªºÂêàËÄÉËôë‰∫ÜÁõ∏‰ººÂïÜÂìÅÁöÑÁî®Êà∑‰∫§‰∫íË°å‰∏∫ÔºåÈÄöËøáÂä†ÊùÉËÆ°ÁÆóÂæóÂá∫ÂïÜÂìÅÁöÑÂèóÊ¨¢ËøéÁ®ãÂ∫¶„ÄÇ'
                    },
                    satisfaction: {
                        title: 'Áî®Êà∑Êª°ÊÑèÂ∫¶',
                        description: 'Âü∫‰∫éÁî®Êà∑ÂèçÈ¶àÂíå‰∫§‰∫íË°å‰∏∫ËÆ°ÁÆóÁöÑÊª°ÊÑèÂ∫¶ÊåáÊ†á',
                        formula: 'Êª°ÊÑèÂ∫¶ = (Ê≠£Èù¢‰∫§‰∫íÊ¨°Êï∞ - Ë¥üÈù¢‰∫§‰∫íÊ¨°Êï∞) / ÊÄª‰∫§‰∫íÊ¨°Êï∞ √ó 100%',
                        steps: [
                            'Ëé∑ÂèñÁõ∏‰ººÂïÜÂìÅÁöÑÁî®Êà∑‰∫§‰∫íÊï∞ÊçÆ',
                            'ÁªüËÆ°Áî®Êà∑Ê≠£Èù¢‰∫§‰∫íË°å‰∏∫ÔºàÊî∂Ëóè„ÄÅË¥≠‰π∞Ôºâ',
                            'ÁªüËÆ°Áî®Êà∑Ë¥üÈù¢‰∫§‰∫íË°å‰∏∫Ôºà‰∏çÊé®Ëçê„ÄÅÂ∑ÆËØÑÔºâ',
                            'ËÆ°ÁÆóÂáÄÊ≠£Èù¢‰∫§‰∫íÊ¨°Êï∞',
                            'Èô§‰ª•ÊÄª‰∫§‰∫íÊ¨°Êï∞',
                            'ËΩ¨Êç¢‰∏∫ÁôæÂàÜÊØî'
                        ],
                        details: 'ËØ•ÊåáÊ†áÈÄöËøáÂàÜÊûêÁõ∏‰ººÂïÜÂìÅÁöÑÁî®Êà∑‰∫§‰∫íÊï∞ÊçÆÔºåËÆ°ÁÆóÂáÄÊª°ÊÑèÂ∫¶„ÄÇ'
                    }
                };
                
                const showMetricInfo = (metricType) => {
                    console.log('showMetricInfo called with:', metricType);
                    const info = metricInfoData[metricType];
                    if (!info) {
                        console.log('No info found for metricType:', metricType);
                        return;
                    }
                    
                    metricInfoTitle.value = info.title;
                    
                    metricInfoBody.value = `
                        <div class="metric-info-section">
                            <h4>üìä ÊåáÊ†áËØ¥Êòé</h4>
                            <p>${info.description}</p>
                        </div>
                        
                        <div class="metric-info-section">
                            <h4>üßÆ ËÆ°ÁÆóÂÖ¨Âºè</h4>
                            <div class="metric-info-formula">${info.formula}</div>
                        </div>
                        
                        <div class="metric-info-section">
                            <h4>üìã ËÆ°ÁÆóÊ≠•È™§</h4>
                            <ol class="metric-info-steps">
                                ${info.steps.map(step => `<li>${step}</li>`).join('')}
                            </ol>
                        </div>
                        
                        <div class="metric-info-section">
                            <h4>üí° ËØ¶ÁªÜËØ¥Êòé</h4>
                            <p>${info.details}</p>
                        </div>
                    `;
                    
                    showMetricModal.value = true;
                    console.log('Modal should be visible now');
                };
                
                const closeMetricInfo = () => {
                    console.log('closeMetricInfo called');
                    showMetricModal.value = false;
                };
                
                return {
                    showMetricModal,
                    metricInfoTitle,
                    metricInfoBody,
                    showMetricInfo,
                    closeMetricInfo
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
