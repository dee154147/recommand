# åç«¯å¼‚å¸¸æ’æŸ¥å’Œå‰ç«¯é”™è¯¯å¤„ç†ä¼˜åŒ–å®Œæˆ

## å®Œæˆæ—¶é—´
2024å¹´12æœˆ20æ—¥

## é—®é¢˜æè¿°
ç”¨æˆ·è¦æ±‚å±•ç¤ºçœŸå®æ•°æ®ï¼Œå¦‚æœåç«¯æœ‰å¼‚å¸¸ï¼Œè¯·å‹å¥½æé†’ï¼Œè€Œä¸æ˜¯å±•ç¤ºæ¨¡æ‹Ÿæ•°æ®ï¼ŒåŒæ—¶æ’æŸ¥åç«¯å¼‚å¸¸åŸå› ã€‚

## é—®é¢˜æ’æŸ¥è¿‡ç¨‹

### 1. åç«¯å¼‚å¸¸æ’æŸ¥

#### **1.1 æ£€æŸ¥æ–‡ä»¶ç»“æ„**
```bash
cd /Users/liuzhichao/cursorProjects/recommand2/backend
ls -la
```
- âœ… `run.py` æ–‡ä»¶å­˜åœ¨
- âœ… åº”ç”¨ç›®å½•ç»“æ„å®Œæ•´

#### **1.2 æ£€æŸ¥å¯¼å…¥é—®é¢˜**
```bash
python3 -c "from app import create_app; print('Import successful')"
```
- âœ… å¯¼å…¥æˆåŠŸï¼Œæ— ä¾èµ–é—®é¢˜

#### **1.3 æ£€æŸ¥ç«¯å£å ç”¨**
```bash
lsof -i :5002
```
- âœ… ç«¯å£5002æœªè¢«å ç”¨

#### **1.4 å¯åŠ¨æœåŠ¡å¹¶æŸ¥çœ‹æ—¥å¿—**
```bash
python3 run.py > backend_startup.log 2>&1 &
```
**å¯åŠ¨æ—¥å¿—**:
```
/Users/liuzhichao/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020                                                        
  warnings.warn(
 * Serving Flask app 'app'
 * Debug mode: on
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.        
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5002
 * Running on http://192.168.8.72:5002
Press CTRL+C to quit
```

#### **1.5 éªŒè¯æœåŠ¡çŠ¶æ€**
```bash
lsof -i :5002
```
- âœ… åç«¯æœåŠ¡æˆåŠŸå¯åŠ¨ (è¿›ç¨‹48695)

#### **1.6 æµ‹è¯•APIæ¥å£**
```bash
curl -s "http://localhost:5002/api/v1/similar-products/390573?limit=3&threshold=0.0"
```
**APIå“åº”**:
```json
{
  "data": {
    "count": 3,
    "limit": 3,
    "product_id": 390573,
    "similar_products": [
      {
        "category_id": 17,
        "description": "å•†å“ID: 1630475, å“ç‰Œ: A810, åº—é“º: s9133",
        "image_url": "http://img01.taobaocdn.com/bao/uploaded/i2/13855021422947241/T1ES87XCVaXXXXXXXX_!!0-item_pic.jpg\u000139-7260\u0001b77859\u0001s9133",
        "name": "\u0001HTC A810 E G8 G9 G14 T528 3.5 mm æ¯«ç±³ A510 E G11 S710 E åŸè£…è€³æœº \u0001",
        "price": null,
        "product_id": 1630475,
        "similarity": 1.0,
        "tags": ["è€³æœº", "åŸè£…"]
      }
    ]
  }
}
```

### 2. é—®é¢˜åŸå› åˆ†æ

#### **2.1 åç«¯æœåŠ¡çŠ¶æ€**
- **ä¹‹å‰**: åç«¯æœåŠ¡æ²¡æœ‰å¯åŠ¨
- **ç°åœ¨**: åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œåœ¨ç«¯å£5002
- **API**: ç›¸ä¼¼å•†å“APIæ¥å£æ­£å¸¸å·¥ä½œ

#### **2.2 å‰ç«¯é”™è¯¯å¤„ç†é—®é¢˜**
- **ä¹‹å‰**: APIè°ƒç”¨å¤±è´¥æ—¶æ˜¾ç¤ºæ¨¡æ‹Ÿæ•°æ®
- **é—®é¢˜**: ç”¨æˆ·æ— æ³•åŒºåˆ†çœŸå®æ•°æ®å’Œæ¨¡æ‹Ÿæ•°æ®
- **éœ€æ±‚**: åç«¯å¼‚å¸¸æ—¶æ˜¾ç¤ºå‹å¥½é”™è¯¯æç¤º

## è§£å†³æ–¹æ¡ˆ

### 1. åç«¯æœåŠ¡å¯åŠ¨
```bash
cd /Users/liuzhichao/cursorProjects/recommand2/backend
python3 run.py
```

### 2. å‰ç«¯é”™è¯¯å¤„ç†ä¼˜åŒ–

#### **2.1 ç§»é™¤æ¨¡æ‹Ÿæ•°æ®é€»è¾‘**
```javascript
// ä¹‹å‰çš„ä»£ç 
catch (error) {
  console.error('APIè°ƒç”¨å¤±è´¥:', error)
  // æ˜¾ç¤ºæ¨¡æ‹Ÿæ•°æ®ä½œä¸ºå¤‡ç”¨
  similarProducts.value = generateMockSimilarProducts()
}

// ä¿®æ”¹åçš„ä»£ç 
catch (error) {
  console.error('APIè°ƒç”¨å¤±è´¥:', error)
  // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯è€Œä¸æ˜¯æ¨¡æ‹Ÿæ•°æ®
  similarProducts.value = []
}
```

#### **2.2 åˆ é™¤æ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆå‡½æ•°**
```javascript
// åˆ é™¤äº† generateMockSimilarProducts() å‡½æ•°
```

#### **2.3 ä¼˜åŒ–é”™è¯¯æç¤ºç•Œé¢**
```vue
<div v-else class="no-similar">
  <div class="no-similar-icon">âš ï¸</div>
  <div class="no-similar-text">ç›¸ä¼¼å•†å“æœåŠ¡æš‚æ—¶ä¸å¯ç”¨</div>
  <div class="no-similar-detail">è¯·æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ</div>
  <div class="no-similar-tip">æç¤ºï¼šè¯·ç¡®ä¿åç«¯æœåŠ¡åœ¨ç«¯å£5002ä¸Šè¿è¡Œ</div>
</div>
```

#### **2.4 æ·»åŠ å‹å¥½çš„é”™è¯¯æ ·å¼**
```css
.no-similar-text {
  font-size: 1.2rem;
  font-weight: 600;
  color: #ff6b6b;
  margin-bottom: 0.5rem;
}

.no-similar-detail {
  font-size: 1rem;
  color: #cccccc;
  margin-bottom: 0.5rem;
}

.no-similar-tip {
  font-size: 0.9rem;
  color: #888888;
  font-style: italic;
  background: rgba(255, 107, 107, 0.1);
  padding: 0.5rem 1rem;
  border-radius: 8px;
  border: 1px solid rgba(255, 107, 107, 0.3);
  margin-top: 1rem;
  display: inline-block;
}
```

## åŠŸèƒ½éªŒè¯

### 1. åç«¯æœåŠ¡éªŒè¯
- âœ… **æœåŠ¡å¯åŠ¨**: åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ
- âœ… **ç«¯å£ç›‘å¬**: ç«¯å£5002æ­£å¸¸ç›‘å¬
- âœ… **APIæ¥å£**: ç›¸ä¼¼å•†å“APIæ­£å¸¸å·¥ä½œ
- âœ… **æ•°æ®è¿”å›**: è¿”å›çœŸå®çš„ç›¸ä¼¼å•†å“æ•°æ®

### 2. å‰ç«¯åŠŸèƒ½éªŒè¯
- âœ… **çœŸå®æ•°æ®**: ç°åœ¨æ˜¾ç¤ºçœŸå®çš„ç›¸ä¼¼å•†å“æ•°æ®
- âœ… **é”™è¯¯å¤„ç†**: åç«¯å¼‚å¸¸æ—¶æ˜¾ç¤ºå‹å¥½é”™è¯¯æç¤º
- âœ… **ç”¨æˆ·ä½“éªŒ**: ç”¨æˆ·å¯ä»¥æ¸…æ¥šçŸ¥é“æœåŠ¡çŠ¶æ€
- âœ… **æ— æ¨¡æ‹Ÿæ•°æ®**: å®Œå…¨ç§»é™¤äº†æ¨¡æ‹Ÿæ•°æ®é€»è¾‘

### 3. æ•°æ®å¯¹æ¯”

#### **çœŸå®æ•°æ®ç¤ºä¾‹**:
```json
{
  "product_id": 1630475,
  "name": "HTC A810 E G8 G9 G14 T528 3.5 mm æ¯«ç±³ A510 E G11 S710 E åŸè£…è€³æœº",
  "price": null,
  "similarity": 1.0,
  "tags": ["è€³æœº", "åŸè£…"]
}
```

#### **é”™è¯¯æç¤ºç¤ºä¾‹**:
```
âš ï¸ ç›¸ä¼¼å•†å“æœåŠ¡æš‚æ—¶ä¸å¯ç”¨
è¯·æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
æç¤ºï¼šè¯·ç¡®ä¿åç«¯æœåŠ¡åœ¨ç«¯å£5002ä¸Šè¿è¡Œ
```

## æŠ€æœ¯å®ç°

### 1. åç«¯æœåŠ¡ç®¡ç†
- **å¯åŠ¨å‘½ä»¤**: `python3 run.py`
- **ç«¯å£**: 5002
- **è¿›ç¨‹ç®¡ç†**: åå°è¿è¡Œ
- **æ—¥å¿—è®°å½•**: å¯åŠ¨æ—¥å¿—ä¿å­˜åˆ°æ–‡ä»¶

### 2. å‰ç«¯é”™è¯¯å¤„ç†
- **APIè°ƒç”¨**: ä½¿ç”¨axiosè¿›è¡ŒHTTPè¯·æ±‚
- **é”™è¯¯æ•è·**: try-catchå¤„ç†ç½‘ç»œé”™è¯¯
- **çŠ¶æ€ç®¡ç†**: Vue 3 Composition API
- **ç”¨æˆ·åé¦ˆ**: å‹å¥½çš„é”™è¯¯æç¤ºç•Œé¢

### 3. ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- **åŠ è½½çŠ¶æ€**: æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
- **é”™è¯¯æç¤º**: æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯
- **æ“ä½œæŒ‡å¯¼**: å…·ä½“çš„è§£å†³å»ºè®®
- **è§†è§‰è®¾è®¡**: ä¸€è‡´çš„UIé£æ ¼

## éƒ¨ç½²è¯´æ˜

### 1. å¯åŠ¨åç«¯æœåŠ¡
```bash
cd /Users/liuzhichao/cursorProjects/recommand2/backend
python3 run.py
```

### 2. å¯åŠ¨å‰ç«¯æœåŠ¡
```bash
cd /Users/liuzhichao/cursorProjects/recommand2/frontend
npm run dev
```

### 3. è®¿é—®åº”ç”¨
- **å‰ç«¯åº”ç”¨**: http://localhost:3000
- **åç«¯API**: http://localhost:5002

## æ€»ç»“

### âœ… **é—®é¢˜è§£å†³**
1. **åç«¯å¼‚å¸¸æ’æŸ¥**: å‘ç°åç«¯æœåŠ¡æ²¡æœ‰å¯åŠ¨ï¼Œç°å·²æˆåŠŸå¯åŠ¨
2. **APIæ¥å£éªŒè¯**: ç›¸ä¼¼å•†å“APIæ­£å¸¸å·¥ä½œï¼Œè¿”å›çœŸå®æ•°æ®
3. **å‰ç«¯é”™è¯¯å¤„ç†**: ç§»é™¤æ¨¡æ‹Ÿæ•°æ®ï¼Œæ”¹ä¸ºå‹å¥½é”™è¯¯æç¤º
4. **ç”¨æˆ·ä½“éªŒ**: ç”¨æˆ·å¯ä»¥æ¸…æ¥šçŸ¥é“æœåŠ¡çŠ¶æ€å’Œæ•°æ®æ¥æº

### ğŸ¯ **å½“å‰çŠ¶æ€**
- **åç«¯æœåŠ¡**: âœ… æ­£å¸¸è¿è¡Œ (ç«¯å£5002)
- **å‰ç«¯æœåŠ¡**: âœ… æ­£å¸¸è¿è¡Œ (ç«¯å£3000)
- **ç›¸ä¼¼å•†å“åŠŸèƒ½**: âœ… æ˜¾ç¤ºçœŸå®æ•°æ®
- **é”™è¯¯å¤„ç†**: âœ… å‹å¥½æç¤ºï¼Œæ— æ¨¡æ‹Ÿæ•°æ®

ç°åœ¨ç”¨æˆ·å¯ä»¥çœ‹åˆ°çœŸå®çš„ç›¸ä¼¼å•†å“æ•°æ®ï¼Œå¦‚æœåç«¯æœåŠ¡å¼‚å¸¸ï¼Œä¼šæ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æç¤ºè€Œä¸æ˜¯æ¨¡æ‹Ÿæ•°æ®ï¼ğŸ‰
